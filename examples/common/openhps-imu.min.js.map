{"version":3,"file":"web/openhps-imu.min.js","mappings":"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","sources":["webpack://OpenHPS.imu/webpack/universalModuleDefinition","webpack://OpenHPS.imu/./dist/cjs/data/IMUDataFrame.js","webpack://OpenHPS.imu/./dist/cjs/data/IMUSensorObject.js","webpack://OpenHPS.imu/./dist/cjs/data/index.js","webpack://OpenHPS.imu/./dist/cjs/index.js","webpack://OpenHPS.imu/./dist/cjs/nodes/index.js","webpack://OpenHPS.imu/./dist/cjs/nodes/processing/AbsoluteOrientationProcessingNode.js","webpack://OpenHPS.imu/./dist/cjs/nodes/processing/AccelerationProcessingNode.js","webpack://OpenHPS.imu/./dist/cjs/nodes/processing/GravityProcessingNode.js","webpack://OpenHPS.imu/./dist/cjs/nodes/processing/PedometerProcessingNode.js","webpack://OpenHPS.imu/./dist/cjs/nodes/processing/RelativeOrientationProcessingNode.js","webpack://OpenHPS.imu/./dist/cjs/nodes/processing/VelocityCalculationNode.js","webpack://OpenHPS.imu/./dist/cjs/nodes/processing/VelocityProcessingNode.js","webpack://OpenHPS.imu/./dist/cjs/nodes/processing/calibration/MagnetometerCalibrationNode.js","webpack://OpenHPS.imu/./dist/cjs/nodes/processing/calibration/index.js","webpack://OpenHPS.imu/./dist/cjs/nodes/processing/index.js","webpack://OpenHPS.imu/./dist/cjs/nodes/source/IMUBrowserSource.js","webpack://OpenHPS.imu/./dist/cjs/nodes/source/index.js","webpack://OpenHPS.imu/external umd {\"commonjs\":\"@openhps/core\",\"commonjs2\":\"@openhps/core\",\"amd\":\"core\",\"root\":[\"OpenHPS\",\"core\"]}","webpack://OpenHPS.imu/webpack/bootstrap","webpack://OpenHPS.imu/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@openhps/core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"OpenHPS\", [\"core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OpenHPS\"] = factory(require(\"@openhps/core\"));\n\telse\n\t\troot[\"OpenHPS\"] = root[\"OpenHPS\"] || {}, root[\"OpenHPS\"][\"imu\"] = factory(root[\"OpenHPS\"][\"core\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__0__) {\nreturn ","\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IMUDataFrame = void 0;\r\nconst core_1 = require(\"@openhps/core\");\r\nlet IMUDataFrame = class IMUDataFrame extends core_1.DataFrame {\r\n};\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", Number)\r\n], IMUDataFrame.prototype, \"frequency\", void 0);\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", core_1.Magnetism)\r\n], IMUDataFrame.prototype, \"magnetism\", void 0);\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", core_1.Acceleration)\r\n], IMUDataFrame.prototype, \"acceleration\", void 0);\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", core_1.Acceleration)\r\n], IMUDataFrame.prototype, \"linearAcceleration\", void 0);\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", core_1.Acceleration)\r\n], IMUDataFrame.prototype, \"gravity\", void 0);\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", core_1.Orientation)\r\n], IMUDataFrame.prototype, \"relativeOrientation\", void 0);\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", core_1.Orientation)\r\n], IMUDataFrame.prototype, \"absoluteOrientation\", void 0);\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", core_1.LinearVelocity)\r\n], IMUDataFrame.prototype, \"linearVelocity\", void 0);\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", core_1.AngularVelocity)\r\n], IMUDataFrame.prototype, \"angularVelocity\", void 0);\r\nIMUDataFrame = __decorate([\r\n    (0, core_1.SerializableObject)()\r\n], IMUDataFrame);\r\nexports.IMUDataFrame = IMUDataFrame;\r\n//# sourceMappingURL=IMUDataFrame.js.map","\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IMUSensorObject = void 0;\r\nconst core_1 = require(\"@openhps/core\");\r\nlet IMUSensorObject = class IMUSensorObject extends core_1.DataObject {\r\n};\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", Number)\r\n], IMUSensorObject.prototype, \"frequency\", void 0);\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", core_1.Magnetism)\r\n], IMUSensorObject.prototype, \"magnetism\", void 0);\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", core_1.Acceleration)\r\n], IMUSensorObject.prototype, \"acceleration\", void 0);\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", core_1.Acceleration)\r\n], IMUSensorObject.prototype, \"linearAcceleration\", void 0);\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", core_1.Acceleration)\r\n], IMUSensorObject.prototype, \"gravity\", void 0);\r\nIMUSensorObject = __decorate([\r\n    (0, core_1.SerializableObject)()\r\n], IMUSensorObject);\r\nexports.IMUSensorObject = IMUSensorObject;\r\n//# sourceMappingURL=IMUSensorObject.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./IMUDataFrame\"), exports);\r\n__exportStar(require(\"./IMUSensorObject\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./nodes\"), exports);\r\n__exportStar(require(\"./data\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./processing\"), exports);\r\n__exportStar(require(\"./source\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AbsoluteOrientationProcessingNode = void 0;\r\nconst core_1 = require(\"@openhps/core\");\r\nclass AbsoluteOrientationProcessingNode extends core_1.FilterProcessingNode {\r\n    initFilter(object, frame) {\r\n        return new Promise((resolve, reject) => {\r\n            if (frame.angularVelocity || frame.acceleration === undefined) {\r\n                reject(new Error(`Relative rotation processing requires accelerometer and gyroscope readings!`));\r\n            }\r\n            resolve({\r\n                alpha: 0,\r\n                beta: 0,\r\n                gamma: 0,\r\n            });\r\n        });\r\n    }\r\n    filter(object, frame) {\r\n        return new Promise((resolve) => {\r\n            const accl = frame.acceleration;\r\n            const mag = frame.magnetism;\r\n            const pitch = Math.atan2(-accl.x, Math.sqrt(accl.z * accl.z + accl.y * accl.y));\r\n            const roll = Math.atan2(accl.y, Math.sqrt(accl.z * accl.z + accl.x * accl.x));\r\n            const Xh = mag.x * Math.cos(pitch) +\r\n                mag.y * Math.sin(roll) * Math.sin(pitch) +\r\n                mag.z * Math.cos(roll) * Math.sin(pitch);\r\n            const Yh = mag.y * Math.cos(roll) - mag.z * Math.sin(roll);\r\n            let azimuth = Math.atan2(Yh, Xh);\r\n            if (azimuth < 0) {\r\n                azimuth = 2 * Math.PI + azimuth;\r\n            }\r\n            frame.absoluteOrientation = core_1.Orientation.fromEuler([pitch, roll, azimuth]);\r\n            resolve(object);\r\n        });\r\n    }\r\n}\r\nexports.AbsoluteOrientationProcessingNode = AbsoluteOrientationProcessingNode;\r\n//# sourceMappingURL=AbsoluteOrientationProcessingNode.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AccelerationProcessingNode = void 0;\r\nconst core_1 = require(\"@openhps/core\");\r\nclass AccelerationProcessingNode extends core_1.FilterProcessingNode {\r\n    initFilter(object, frame) {\r\n        return new Promise((resolve, reject) => {\r\n            if (!frame.acceleration && !frame.linearAcceleration) {\r\n                return reject(new Error(`Acceleration processing requires accelerometer readings!`));\r\n            }\r\n            resolve({\r\n                alpha: 0,\r\n                beta: 0,\r\n                gamma: 0,\r\n            });\r\n        });\r\n    }\r\n    filter(object, frame) {\r\n        return new Promise((resolve) => {\r\n            const accl = frame.linearAcceleration || frame.acceleration;\r\n            const dt = 1000 / frame.frequency;\r\n            frame.linearVelocity = core_1.LinearVelocity.fromArray(accl.clone().multiplyScalar(dt).toArray());\r\n            const position = object.getPosition();\r\n            if (!position) {\r\n                return resolve(object);\r\n            }\r\n            if (!position.linearVelocity) {\r\n                position.linearVelocity = frame.linearVelocity.clone();\r\n            }\r\n            else {\r\n                position.linearVelocity.add(frame.linearVelocity);\r\n            }\r\n            resolve(object);\r\n        });\r\n    }\r\n}\r\nexports.AccelerationProcessingNode = AccelerationProcessingNode;\r\n//# sourceMappingURL=AccelerationProcessingNode.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GravityProcessingMethod = exports.GravityProcessingNode = void 0;\r\nconst core_1 = require(\"@openhps/core\");\r\nclass GravityProcessingNode extends core_1.FilterProcessingNode {\r\n    constructor(options) {\r\n        super(options);\r\n        this.options.method = this.options.method || GravityProcessingMethod.LOW_PASS;\r\n    }\r\n    initFilter(object, frame, options) {\r\n        return new Promise((resolve, reject) => {\r\n            if (!frame.acceleration) {\r\n                return reject(new Error(`Gravity processing requires accelerometer readings!`));\r\n            }\r\n            resolve(options);\r\n        });\r\n    }\r\n    filter(object, frame) {\r\n        return new Promise((resolve) => {\r\n            let method;\r\n            if (frame.linearAcceleration) {\r\n                method = GravityProcessingMethod.LINEAR_ACCELERATION;\r\n            }\r\n            else if (frame.relativeOrientation) {\r\n                method = GravityProcessingMethod.RELATIVE_ORIENTATION;\r\n            }\r\n            else if (frame.absoluteOrientation) {\r\n                method = GravityProcessingMethod.ABSOLUTE_ORIENTATION;\r\n            }\r\n            switch (method) {\r\n                case GravityProcessingMethod.LINEAR_ACCELERATION:\r\n                    this._fromLinearAcceleration(frame);\r\n                    break;\r\n                case GravityProcessingMethod.LOW_PASS:\r\n                    this._usingLPFilter(frame);\r\n                    break;\r\n                case GravityProcessingMethod.ABSOLUTE_ORIENTATION:\r\n                    this._fromAbsoluteOrientation(frame);\r\n                    break;\r\n                default:\r\n                case GravityProcessingMethod.RELATIVE_ORIENTATION:\r\n                    this._fromRelativeOrientation(frame);\r\n                    break;\r\n            }\r\n            resolve(object);\r\n        });\r\n    }\r\n    _fromLinearAcceleration(frame) {\r\n        frame.gravity = frame.acceleration.clone().sub(frame.linearAcceleration);\r\n    }\r\n    _usingLPFilter(frame) {\r\n        frame.gravity = new core_1.Acceleration();\r\n        frame.linearAcceleration = frame.acceleration.clone().sub(frame.gravity);\r\n    }\r\n    _fromRelativeOrientation(frame) {\r\n        frame.linearAcceleration = frame.acceleration.clone().multiply(frame.relativeOrientation.toEuler().toVector3());\r\n        frame.gravity = frame.acceleration.clone().sub(frame.linearAcceleration);\r\n    }\r\n    _fromAbsoluteOrientation(frame) {\r\n        frame.gravity = new core_1.Acceleration(0, 0, 1, core_1.AccelerationUnit.GRAVITATIONAL_FORCE).applyQuaternion(frame.absoluteOrientation);\r\n        frame.linearAcceleration = frame.acceleration.clone().sub(frame.gravity);\r\n    }\r\n}\r\nexports.GravityProcessingNode = GravityProcessingNode;\r\nvar GravityProcessingMethod;\r\n(function (GravityProcessingMethod) {\r\n    GravityProcessingMethod[GravityProcessingMethod[\"LOW_PASS\"] = 0] = \"LOW_PASS\";\r\n    GravityProcessingMethod[GravityProcessingMethod[\"ABSOLUTE_ORIENTATION\"] = 1] = \"ABSOLUTE_ORIENTATION\";\r\n    GravityProcessingMethod[GravityProcessingMethod[\"RELATIVE_ORIENTATION\"] = 2] = \"RELATIVE_ORIENTATION\";\r\n    GravityProcessingMethod[GravityProcessingMethod[\"LINEAR_ACCELERATION\"] = 3] = \"LINEAR_ACCELERATION\";\r\n})(GravityProcessingMethod = exports.GravityProcessingMethod || (exports.GravityProcessingMethod = {}));\r\n//# sourceMappingURL=GravityProcessingNode.js.map","\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PedometerData = exports.PedometerProcessingNode = void 0;\r\nconst core_1 = require(\"@openhps/core\");\r\nclass PedometerProcessingNode extends core_1.ProcessingNode {\r\n    constructor(options) {\r\n        super(options);\r\n        this.options.windowSize = this.options.windowSize || 1;\r\n        this.options.minPeak = this.options.minPeak || 2;\r\n        this.options.maxPeak = this.options.maxPeak || 8;\r\n        this.options.minStepTime = this.options.minStepTime || 0.3;\r\n        this.options.peakThreshold = this.options.peakThreshold || 0.5;\r\n        this.options.maxStepTime = this.options.maxStepTime || 0.8;\r\n        this.options.meanFilterSize = this.options.meanFilterSize || 1;\r\n        this.options.minConsecutiveSteps = this.options.minConsecutiveSteps || 3;\r\n        this.options.stepSize = this.options.stepSize || 0.7;\r\n    }\r\n    process(frame) {\r\n        return new Promise((resolve, reject) => {\r\n            let pedometerData;\r\n            this.getNodeData(frame.source)\r\n                .then((data) => {\r\n                if (!data) {\r\n                    data = new PedometerData();\r\n                }\r\n                data.add(frame);\r\n                const windowSize = Math.floor(this.options.windowSize * data.frequency);\r\n                if (data.accelerometerData.length > 4 * windowSize) {\r\n                    data.shift();\r\n                }\r\n                pedometerData = data;\r\n                return this.processPedometer(pedometerData);\r\n            })\r\n                .then((steps) => {\r\n                const previousStep = steps.indexOf(pedometerData.lastStepIndex);\r\n                if (previousStep !== -1) {\r\n                    steps = steps.slice(previousStep + 1);\r\n                }\r\n                if (steps.length > 0) {\r\n                    pedometerData.lastStepIndex = steps[steps.length - 1];\r\n                }\r\n                const stepCount = steps.length;\r\n                const distance = this.options.stepSize * stepCount;\r\n                const position = frame.source.getPosition();\r\n                position.timestamp = frame.createdTimestamp;\r\n                position.linearVelocity = new core_1.LinearVelocity(distance / this.options.windowSize, 0, 0, core_1.LinearVelocityUnit.METER_PER_SECOND);\r\n                const orientation = frame.absoluteOrientation || position.orientation;\r\n                if (orientation) {\r\n                    const relativePosition = core_1.Vector3.fromArray([distance / this.options.windowSize, 0, 0]);\r\n                    const eulerOrientation = orientation.toEuler();\r\n                    eulerOrientation.x = 0;\r\n                    eulerOrientation.y = 0;\r\n                    position.fromVector(position.toVector3(core_1.LengthUnit.METER).add(relativePosition.applyEuler(eulerOrientation)));\r\n                }\r\n                return this.setNodeData(frame.source, pedometerData);\r\n            })\r\n                .then(() => {\r\n                resolve(frame);\r\n            })\r\n                .catch(reject);\r\n        });\r\n    }\r\n    processPedometer(data) {\r\n        return new Promise((resolve) => {\r\n            const windowSize = Math.floor(this.options.windowSize * data.frequency);\r\n            const taoMin = this.options.minStepTime * data.frequency;\r\n            const taoMax = this.options.maxStepTime * data.frequency;\r\n            const verticalComponent = this._extractVerticalComponents(data.accelerometerData, data.attitudeData);\r\n            if (verticalComponent.length < windowSize) {\r\n                return resolve([]);\r\n            }\r\n            let smoothedVerticalComponent = verticalComponent;\r\n            if (this.options.meanFilterSize > 1) {\r\n                smoothedVerticalComponent = this._meanFilter(verticalComponent, this.options.meanFilterSize);\r\n            }\r\n            const window = verticalComponent.slice(0, windowSize);\r\n            let windowMax = Math.max(this.options.minPeak, Math.min(this.options.maxPeak, Math.max(...window)));\r\n            let windowSum = window.reduce((a, b) => a + b);\r\n            const windowAvg = windowSum / windowSize;\r\n            const offset = Math.ceil(windowSize / 2);\r\n            let steps = [];\r\n            let lastPeak = data.lastStepIndex;\r\n            for (let i = offset; i < verticalComponent.length - offset - 1; i++) {\r\n                if (verticalComponent[i] >\r\n                    Math.max(this.options.minPeak, this.options.peakThreshold * windowMax + windowAvg) &&\r\n                    smoothedVerticalComponent[i] >= smoothedVerticalComponent[i - 1] &&\r\n                    smoothedVerticalComponent[i] > smoothedVerticalComponent[i + 1] &&\r\n                    lastPeak < i - taoMin) {\r\n                    if (verticalComponent[i] < this.options.maxPeak)\r\n                        steps.push(i);\r\n                    lastPeak = i;\r\n                }\r\n                window.push(verticalComponent[i + offset]);\r\n                const removed = window.shift();\r\n                windowSum += verticalComponent[i + offset] - removed;\r\n                if (removed >= windowMax || verticalComponent[i + offset] > windowMax) {\r\n                    windowMax = Math.max(this.options.minPeak, Math.min(this.options.maxPeak, Math.max(...window)));\r\n                }\r\n            }\r\n            if (this.options.minConsecutiveSteps > 1) {\r\n                let consecutivePeaks = 1;\r\n                let i = steps.length;\r\n                while (i--) {\r\n                    if (i === 0 || steps[i] - steps[i - 1] < taoMax) {\r\n                        consecutivePeaks++;\r\n                    }\r\n                    else {\r\n                        if (consecutivePeaks < this.options.minConsecutiveSteps) {\r\n                            steps.splice(i, consecutivePeaks);\r\n                        }\r\n                        consecutivePeaks = 1;\r\n                    }\r\n                }\r\n                if (steps.length < this.options.minConsecutiveSteps) {\r\n                    steps = [];\r\n                }\r\n            }\r\n            resolve(steps);\r\n        });\r\n    }\r\n    _extractVerticalComponents(accelerometerData, attitudeData) {\r\n        return accelerometerData.map((acceleration, i) => {\r\n            const attitude = attitudeData[i].clone();\r\n            attitude.z = 0;\r\n            return acceleration.clone().applyEuler(attitude).getComponent(2);\r\n        });\r\n    }\r\n    _meanFilter(arr, size) {\r\n        const window = [];\r\n        return arr.map((val) => {\r\n            if (window.length >= size)\r\n                window.shift();\r\n            window.push(val);\r\n            return window.reduce((a, b) => a + b) / arr.length;\r\n        });\r\n    }\r\n}\r\nexports.PedometerProcessingNode = PedometerProcessingNode;\r\nlet PedometerData = class PedometerData {\r\n    constructor() {\r\n        this.accelerometerData = [];\r\n        this.attitudeData = [];\r\n        this.lastStepIndex = -Infinity;\r\n    }\r\n    add(frame) {\r\n        this.accelerometerData.push(frame.linearAcceleration);\r\n        this.attitudeData.push(frame.absoluteOrientation.toEuler('ZYX'));\r\n        this.frequency = frame.frequency;\r\n        return this;\r\n    }\r\n    shift() {\r\n        this.lastStepIndex--;\r\n        this.accelerometerData.shift();\r\n        this.attitudeData.shift();\r\n        return this;\r\n    }\r\n};\r\n__decorate([\r\n    (0, core_1.SerializableArrayMember)(core_1.Acceleration),\r\n    __metadata(\"design:type\", Array)\r\n], PedometerData.prototype, \"accelerometerData\", void 0);\r\n__decorate([\r\n    (0, core_1.SerializableArrayMember)(core_1.Acceleration),\r\n    __metadata(\"design:type\", Array)\r\n], PedometerData.prototype, \"attitudeData\", void 0);\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", Number)\r\n], PedometerData.prototype, \"frequency\", void 0);\r\n__decorate([\r\n    (0, core_1.SerializableMember)(),\r\n    __metadata(\"design:type\", Object)\r\n], PedometerData.prototype, \"lastStepIndex\", void 0);\r\nPedometerData = __decorate([\r\n    (0, core_1.SerializableObject)()\r\n], PedometerData);\r\nexports.PedometerData = PedometerData;\r\n//# sourceMappingURL=PedometerProcessingNode.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.RelativeOrientationProcessingNode = void 0;\r\nconst core_1 = require(\"@openhps/core\");\r\nclass RelativeOrientationProcessingNode extends core_1.FilterProcessingNode {\r\n    initFilter(_, frame) {\r\n        return new Promise((resolve, reject) => {\r\n            if (!frame.angularVelocity || !frame.acceleration) {\r\n                return reject(new Error(`Relative rotation processing requires accelerometer and gyroscope readings!`));\r\n            }\r\n            resolve({\r\n                alpha: 0,\r\n                beta: 0,\r\n                gamma: 0,\r\n            });\r\n        });\r\n    }\r\n    filter(object, frame, filter) {\r\n        return new Promise((resolve) => {\r\n            const accl = frame.acceleration;\r\n            const gyro = object.getPosition().angularVelocity || frame.angularVelocity;\r\n            const bias = 0.98;\r\n            const dt = 1000 / frame.frequency;\r\n            const norm = Math.sqrt(Math.pow(accl.x, 2) + Math.pow(accl.y, 2) + Math.pow(accl.z, 2));\r\n            const scale = Math.PI / 2;\r\n            const alpha = filter.alpha + gyro.z * dt;\r\n            const beta = bias * (filter.beta + gyro.x * dt) + (1.0 - bias) * ((accl.x * scale) / norm);\r\n            const gamma = bias * (filter.gamma + gyro.y * dt) + (1.0 - bias) * ((accl.y * -scale) / norm);\r\n            frame.relativeOrientation = core_1.Orientation.fromEuler([beta, gamma, alpha]);\r\n            resolve(object);\r\n        });\r\n    }\r\n}\r\nexports.RelativeOrientationProcessingNode = RelativeOrientationProcessingNode;\r\n//# sourceMappingURL=RelativeOrientationProcessingNode.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.VelocityCalculationNode = void 0;\r\nconst core_1 = require(\"@openhps/core\");\r\nclass VelocityCalculationNode extends core_1.ObjectProcessingNode {\r\n    processObject(object) {\r\n        return new Promise((resolve, reject) => {\r\n            if (object.getPosition()) {\r\n                this.predictVelocity(object).then(resolve).catch(reject);\r\n            }\r\n            else {\r\n                resolve(object);\r\n            }\r\n        });\r\n    }\r\n    predictVelocity(object) {\r\n        return new Promise((resolve) => {\r\n            const service = this.model.findDataService(object);\r\n            const position = object.getPosition();\r\n            service\r\n                .findByUID(object.uid)\r\n                .then((existingObject) => {\r\n                const existingPosition = existingObject.getPosition();\r\n                const difference = position\r\n                    .toVector3(core_1.LengthUnit.METER)\r\n                    .sub(existingPosition.toVector3(core_1.LengthUnit.METER));\r\n                const timeDifference = core_1.TimeService.getUnit().convert(position.timestamp - existingPosition.timestamp, core_1.TimeUnit.SECOND);\r\n                difference.divideScalar(timeDifference);\r\n                position.linearVelocity = new core_1.LinearVelocity(difference.x, difference.y, difference.z, core_1.LinearVelocityUnit.METER_PER_SECOND);\r\n                resolve(object);\r\n            })\r\n                .catch(() => {\r\n                resolve(object);\r\n            });\r\n        });\r\n    }\r\n}\r\nexports.VelocityCalculationNode = VelocityCalculationNode;\r\n//# sourceMappingURL=VelocityCalculationNode.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.VelocityProcessingNode = void 0;\r\nconst core_1 = require(\"@openhps/core\");\r\nclass VelocityProcessingNode extends core_1.ObjectProcessingNode {\r\n    processObject(object, frame) {\r\n        return new Promise((resolve, reject) => {\r\n            if (object.getPosition()) {\r\n                const lastPosition = object.getPosition();\r\n                if (lastPosition.linearVelocity || lastPosition.angularVelocity) {\r\n                    this.applyVelocity(object, frame).then(resolve).catch(reject);\r\n                }\r\n                else {\r\n                    resolve(object);\r\n                }\r\n            }\r\n            else {\r\n                resolve(object);\r\n            }\r\n        });\r\n    }\r\n    applyVelocity(object, frame) {\r\n        return new Promise((resolve) => {\r\n            const lastPosition = object.getPosition();\r\n            const deltaTime = core_1.TimeService.getUnit().convert(frame.createdTimestamp - lastPosition.timestamp, core_1.TimeUnit.SECOND);\r\n            if (deltaTime < 0) {\r\n                return resolve(object);\r\n            }\r\n            const linear = lastPosition.linearVelocity || new core_1.LinearVelocity();\r\n            const angular = lastPosition.angularVelocity || new core_1.AngularVelocity();\r\n            const linearMovement = linear.clone().multiplyScalar(deltaTime);\r\n            const angularMovement = angular.clone().multiplyScalar(deltaTime);\r\n            const relativePosition = core_1.Vector3.fromArray([0, 0, 0]);\r\n            if (angular.equals(core_1.Vector3.fromArray([0, 0, 0]))) {\r\n                relativePosition.applyMatrix4(new core_1.Matrix4().makeTranslation(linearMovement.x, linearMovement.y, linearMovement.z));\r\n            }\r\n            else if (!linear.equals(core_1.Vector3.fromArray([0, 0, 0]))) {\r\n                const rX = linear.clone().divideScalar(angular.x === 0 ? 1 : angular.x);\r\n                const rY = linear.clone().divideScalar(angular.y === 0 ? 1 : angular.y);\r\n                const rZ = linear.clone().divideScalar(angular.z === 0 ? 1 : angular.z);\r\n                const rMin = rX.min(rY).min(rZ);\r\n                relativePosition.applyMatrix4(new core_1.Matrix4().makeTranslation(-rMin.x, -rMin.y, -rMin.z));\r\n                relativePosition.applyMatrix4(new core_1.AxisAngle(angularMovement.x, angularMovement.y, angularMovement.z).toRotationMatrix());\r\n                relativePosition.applyMatrix4(new core_1.Matrix4().makeTranslation(rMin.x, rMin.y, rMin.z));\r\n                relativePosition.applyMatrix4(core_1.Matrix4.rotationFromAxisAngle(new core_1.Vector3(angular.x !== 0 ? 1 : 0, angular.y !== 0 ? 1 : 0, angular.z !== 0 ? 1 : 0), Math.PI / 2));\r\n            }\r\n            const newPosition = lastPosition.clone();\r\n            if (!newPosition.orientation) {\r\n                newPosition.orientation = new core_1.Orientation();\r\n            }\r\n            newPosition.timestamp = frame.createdTimestamp;\r\n            newPosition.fromVector(newPosition.toVector3(core_1.LengthUnit.METER).add(relativePosition.applyQuaternion(newPosition.orientation)), core_1.LengthUnit.METER);\r\n            const newOrientation = newPosition.orientation.toEuler().toVector3().add(angular.multiplyScalar(deltaTime));\r\n            newPosition.orientation = core_1.Orientation.fromEuler(newOrientation);\r\n            object.setPosition(newPosition);\r\n            resolve(object);\r\n        });\r\n    }\r\n}\r\nexports.VelocityProcessingNode = VelocityProcessingNode;\r\n//# sourceMappingURL=VelocityProcessingNode.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MagnetometerCalibrationNode = void 0;\r\nconst core_1 = require(\"@openhps/core\");\r\nclass MagnetometerCalibrationNode extends core_1.ObjectProcessingNode {\r\n    constructor(options) {\r\n        super(options);\r\n    }\r\n    processObject(object, frame) {\r\n        return new Promise((resolve, reject) => {\r\n            this.getNodeData(object)\r\n                .then((calibrationData) => __awaiter(this, void 0, void 0, function* () {\r\n                if (calibrationData === undefined) {\r\n                    calibrationData = {\r\n                        xMax: 0,\r\n                        xMin: 0,\r\n                        yMax: 0,\r\n                        yMin: 0,\r\n                        zMax: 0,\r\n                        zMin: 0,\r\n                        count: 0,\r\n                        scaleX: NaN,\r\n                        scaleY: NaN,\r\n                        scaleZ: NaN,\r\n                    };\r\n                }\r\n                if (isNaN(calibrationData.scaleX) &&\r\n                    calibrationData.count < this.options.count &&\r\n                    this.options.count !== -1) {\r\n                    calibrationData.xMax = Math.max(frame.magnetism.x, calibrationData.xMax);\r\n                    calibrationData.xMin = Math.min(frame.magnetism.x, calibrationData.xMin);\r\n                    calibrationData.yMax = Math.max(frame.magnetism.y, calibrationData.yMax);\r\n                    calibrationData.yMin = Math.min(frame.magnetism.y, calibrationData.yMin);\r\n                    calibrationData.zMax = Math.max(frame.magnetism.z, calibrationData.zMax);\r\n                    calibrationData.zMin = Math.min(frame.magnetism.z, calibrationData.zMin);\r\n                    calibrationData.count += 1;\r\n                    yield this.setNodeData(object, calibrationData);\r\n                }\r\n                else if (isNaN(calibrationData.scaleX) && calibrationData.count >= this.options.count) {\r\n                    const avgDeltaX = (calibrationData.xMax + calibrationData.xMin) / 2;\r\n                    const avgDeltaY = (calibrationData.yMax + calibrationData.yMin) / 2;\r\n                    const avgDeltaZ = (calibrationData.zMax + calibrationData.zMin) / 2;\r\n                    const avgDelta = (avgDeltaX + avgDeltaY + avgDeltaZ) / 3;\r\n                    calibrationData.scaleX = avgDelta / avgDeltaX;\r\n                    calibrationData.scaleY = avgDelta / avgDeltaY;\r\n                    calibrationData.scaleZ = avgDelta / avgDeltaZ;\r\n                    yield this.setNodeData(object, calibrationData);\r\n                }\r\n                else {\r\n                    frame.magnetism.x = frame.magnetism.x * calibrationData.scaleX;\r\n                    frame.magnetism.y = frame.magnetism.y * calibrationData.scaleY;\r\n                    frame.magnetism.z = frame.magnetism.z * calibrationData.scaleZ;\r\n                }\r\n                resolve(object);\r\n            }))\r\n                .catch(reject);\r\n        });\r\n    }\r\n}\r\nexports.MagnetometerCalibrationNode = MagnetometerCalibrationNode;\r\n//# sourceMappingURL=MagnetometerCalibrationNode.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./MagnetometerCalibrationNode\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./calibration\"), exports);\r\n__exportStar(require(\"./AccelerationProcessingNode\"), exports);\r\n__exportStar(require(\"./RelativeOrientationProcessingNode\"), exports);\r\n__exportStar(require(\"./GravityProcessingNode\"), exports);\r\n__exportStar(require(\"./AbsoluteOrientationProcessingNode\"), exports);\r\n__exportStar(require(\"./PedometerProcessingNode\"), exports);\r\n__exportStar(require(\"./VelocityCalculationNode\"), exports);\r\n__exportStar(require(\"./VelocityProcessingNode\"), exports);\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IMUBrowserSource = void 0;\r\nconst core_1 = require(\"@openhps/core\");\r\nconst data_1 = require(\"../../data\");\r\nclass IMUBrowserSource extends core_1.SourceNode {\r\n    constructor(options) {\r\n        super(options);\r\n        this.once('build', this._onReady.bind(this));\r\n    }\r\n    _onReady() {\r\n        window.addEventListener('devicemotion', (event) => {\r\n            const dataFrame = new data_1.IMUDataFrame();\r\n            dataFrame.acceleration = new core_1.Acceleration(event.accelerationIncludingGravity.x, event.accelerationIncludingGravity.y, event.accelerationIncludingGravity.z);\r\n            dataFrame.angularVelocity = new core_1.AngularVelocity(event.rotationRate.beta, event.rotationRate.gamma, event.rotationRate.alpha);\r\n            dataFrame.linearAcceleration = new core_1.Acceleration(event.acceleration.x, event.acceleration.y, event.acceleration.z);\r\n            const source = this.source;\r\n            source.frequency = 1000 / event.interval;\r\n            source.getPosition().angularVelocity = dataFrame.angularVelocity;\r\n            dataFrame.absoluteOrientation = source.getPosition().orientation;\r\n            dataFrame.source = source;\r\n            dataFrame.frequency = source.frequency;\r\n            this.push(dataFrame);\r\n        }, true);\r\n        window.addEventListener('deviceorientation', (event) => {\r\n            const source = this.source;\r\n            source.getPosition().orientation = core_1.Orientation.fromEuler([event.beta, event.gamma, event.alpha]);\r\n        });\r\n        this.logger('debug', {\r\n            message: 'Browser orientation and motion events registered!',\r\n        });\r\n    }\r\n    onPull() {\r\n        return new Promise((resolve) => {\r\n            resolve(undefined);\r\n        });\r\n    }\r\n}\r\nexports.IMUBrowserSource = IMUBrowserSource;\r\n//# sourceMappingURL=IMUBrowserSource.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./IMUBrowserSource\"), exports);\r\n//# sourceMappingURL=index.js.map","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(915);\n"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__0__","__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","value","IMUDataFrame","core_1","DataFrame","SerializableMember","Number","prototype","Magnetism","Acceleration","Orientation","LinearVelocity","AngularVelocity","SerializableObject","IMUSensorObject","DataObject","__createBinding","create","o","m","k2","undefined","enumerable","get","__exportStar","p","hasOwnProperty","call","AbsoluteOrientationProcessingNode","FilterProcessingNode","initFilter","object","frame","Promise","resolve","reject","angularVelocity","acceleration","Error","alpha","beta","gamma","filter","accl","mag","magnetism","pitch","Math","atan2","x","sqrt","z","y","roll","Xh","cos","sin","Yh","azimuth","PI","absoluteOrientation","fromEuler","AccelerationProcessingNode","linearAcceleration","dt","frequency","linearVelocity","fromArray","clone","multiplyScalar","toArray","position","getPosition","add","GravityProcessingMethod","GravityProcessingNode","constructor","options","super","method","LOW_PASS","LINEAR_ACCELERATION","relativeOrientation","RELATIVE_ORIENTATION","ABSOLUTE_ORIENTATION","_fromLinearAcceleration","_usingLPFilter","_fromAbsoluteOrientation","_fromRelativeOrientation","gravity","sub","multiply","toEuler","toVector3","AccelerationUnit","GRAVITATIONAL_FORCE","applyQuaternion","PedometerData","PedometerProcessingNode","ProcessingNode","windowSize","minPeak","maxPeak","minStepTime","peakThreshold","maxStepTime","meanFilterSize","minConsecutiveSteps","stepSize","process","pedometerData","getNodeData","source","then","data","floor","accelerometerData","shift","processPedometer","steps","previousStep","indexOf","lastStepIndex","slice","stepCount","distance","timestamp","createdTimestamp","LinearVelocityUnit","METER_PER_SECOND","orientation","relativePosition","Vector3","eulerOrientation","fromVector","LengthUnit","METER","applyEuler","setNodeData","catch","taoMin","taoMax","verticalComponent","_extractVerticalComponents","attitudeData","smoothedVerticalComponent","_meanFilter","window","windowMax","max","min","windowSum","reduce","a","b","windowAvg","offset","ceil","lastPeak","push","removed","consecutivePeaks","splice","map","attitude","getComponent","arr","size","val","Infinity","SerializableArrayMember","Array","RelativeOrientationProcessingNode","_","gyro","bias","norm","pow","scale","VelocityCalculationNode","ObjectProcessingNode","processObject","predictVelocity","service","model","findDataService","findByUID","uid","existingObject","existingPosition","difference","timeDifference","TimeService","getUnit","convert","TimeUnit","SECOND","divideScalar","VelocityProcessingNode","lastPosition","applyVelocity","deltaTime","linear","angular","linearMovement","angularMovement","equals","applyMatrix4","Matrix4","makeTranslation","rX","rY","rZ","rMin","AxisAngle","toRotationMatrix","rotationFromAxisAngle","newPosition","newOrientation","setPosition","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","e","rejected","result","done","apply","MagnetometerCalibrationNode","calibrationData","xMax","xMin","yMax","yMin","zMax","zMin","count","scaleX","NaN","scaleY","scaleZ","isNaN","avgDeltaX","avgDeltaY","avgDeltaZ","avgDelta","IMUBrowserSource","data_1","SourceNode","once","_onReady","bind","addEventListener","event","dataFrame","accelerationIncludingGravity","rotationRate","interval","logger","message","onPull","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}